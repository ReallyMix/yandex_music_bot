# yandex_music_bot

# Описание
## Этот репозиторий содержит реализацию бота, который позволяет прямо из телеграма:

- Иметь доступ к своим плейлистам из Яндекс Музыки
- Создавать новые плейлисты
- Получить текст песни
- Полчить общую информацию о песне
- Получить информацию об исполнителе
- Получить статистику о прослушиваниях за период
- Добавить трек в плейлист

# Пользовательский интерфейс
После команды `/start` пользователю будет предложенно авторизоваться через свой аккаунт Яндекс Музыки, после чего появится клавиатура с названиями команд и `/help`, по нажатии на которую пользователю будет предоставлено краткое описание доступных команд. Даньнейшее взаимодействие происходит через них.

# Ход работы

## Неделя 1
- Проектирование конечного автомата бота
- Реализация OAuth авторизации через бота
- Реализация функций:
    1. Доступ к своим плейлистам
    2. Получение текста песни
- Работа с Docker, .gitignore

## Неделя 2
- Создание базы данных
- Реализация функций:
    1. Создание нового плейлиста
    2. Получение статистики за период
- Внедрение функций в UI
- Тестирование

## Неделя 3
- Шифрование данных пользователя
- Реализация функций:
    1. Получение информации о песне
    2. Получение информации об исполнителе
    3. Добавление трека в плейлист
- Внедрение функций в UI
- Тестирование

## Неделя 4
- Завершение работы над UI бота
- Тестирование

# Общая структура проекта:
![alt text](<diagram.png>)

В директории `database` и `services` лежат реализации базы данных и взаимодействием с `yandex-music-api` соответственно. В `bot` лежат директории обработчиков команд и клавиатур. `handlers` свзятывает кнопки бота с реализациями функций из `services`, а так же добавляет пользователей в базу данных после успешной OAuth авторизации. Отдельно находится директория `tests` в которой находятся все тесты.


## Распределение задач
- _TL_ - Архитектура проекта, тестирование, Docker
- _Dev 2_ - Взаимодействие с API, реализация основных функций
- _Dev 3_ - База данных, шифрование личных данных
- _Dev 4_ - Интерфейс, реализация команд бота